<html>
    <head>
        <title>wallpapergenerator</title>
    </head>
    <body>
        <canvas id="canv" width="1" height="1" style="border:1px solid #d3d3d3;">No HTML5?</canvas>
        <script>
            var canv = document.getElementById('canv');
            var steps = 0;
            width = window.innerWidth;
            height = window.innerHeight;
            //width = 1920;
            //height = 1080;
            canv.width = width;
            canv.height = height;
            ctx = canv.getContext("2d");
            // average color is ctx.fillStyle = "#68829C";
            // whited average color is ctx.fillStyle = "#B4C1CE";
            //ctx.fillRect(0, 0, width, height);

            //var colors = ["#CDE8FD", "#BED5E5", "#8E99A7", "#5178A8", "#49759F", "#162133", "#336A9E", "#4B6C89", "#62574F"];
            //var colors = ["#CDE8FD", "#BED5E5", "#49759F", "#162133", "#336A9E", "#4B6C89", "#62574F"];
            //var color0 = "#" + Math.random().toString(16).slice(2, 8);
            //var color1 = "#" + color0.slice(3, 5) + color0.slice(1, 3) + color0.slice(5, 7);
            //var color2 = "#" + color0.slice(3, 5) + color0.slice(5, 7) + color0.slice(1, 3);
            //var color3 = "#" + color0.slice(5, 7) + color0.slice(3, 5) + color0.slice(1, 3);
            //var color4 = "#" + color0.slice(5, 7) + color0.slice(1, 3) + color0.slice(3, 5);
            //var color5 = "#" + color0.slice(1, 3) + color0.slice(5, 7) + color0.slice(3, 5);
            //var color6 = "#" + Math.random().toString(16).slice(2, 8);
            //var colors = [color0, color1, color2, color3, color4, color5, color6];

            //var change = 32;
            //var color0 = "#" + Math.random().toString(16).slice(2, 8);
            //var color1 = "#" + ((parseInt(color0.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color0.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color0.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var color2 = "#" + ((parseInt(color1.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color1.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color1.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var color3 = "#" + ((parseInt(color2.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color2.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color2.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var color4 = "#" + ((parseInt(color3.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color3.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color3.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var color5 = "#" + ((parseInt(color4.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color4.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color4.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var color6 = "#" + ((parseInt(color5.slice(1, 3), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(color5.slice(3, 5), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(color5.slice(5, 7), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16);
            //var colors = [color0, color1, color2, color3, color4, color5, color6];

            function getRed(color){
                return(color.slice(1,3));
            }
            function getGreen(color){
                return(color.slice(3,5));
            }
            function getBlue(color){
                return(color.slice(5,7));
            }

            //produces a random color
            function generateColor(){
                return("#" + Math.random().toString(16).slice(2, 8)); 
            }

            //flips the red and blue values of a color
            function flipRedBlue(color){
                return("#" + getRed(color) + getGreen(color) + getBlue(color));
            }

            //produces a color where the red, green, and blue can change up to +/- change
            function varyColor(color, change){
                return("#" + ((parseInt(getRed(color), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16) + ((parseInt(getGreen(color), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)+ ((parseInt(getBlue(color), 16)-change)+(Math.floor(Math.random()*change*2))).toString(16)); 
            }

            function averageColor(colors){
                totalRed=0;
                totalGreen=0;
                totalBlue=0;
                for(i=0; i<colors.length; i++){
                    totalRed += parseInt(getRed(colors[i]), 16);
                    totalGreen += parseInt(getGreen(colors[i]), 16);
                    totalBlue += parseInt(getBlue(colors[i]), 16);
                }
                return("#" + (totalRed/colors.length).toString(16) + (totalGreen/colors.length).toString(16) + (totalBlue/colors.length).toString(16));
            }

            var change=32;
            var color0 = generateColor();
            var color1 = flipRedBlue(color0)
            var color2 = varyColor(color1, change);
            var color3 = flipRedBlue(color2);
            var color4 = varyColor(color3, change);
            var color5 = flipRedBlue(color4);
            var color6 = varyColor(color5, change);
            var colors = [color0, color1, color2, color3, color4, color5, color6];

            //var averageRed = ((parseInt(getRed(color0), 16) + parseInt(getRed(color1), 16) + parseInt(getRed(color2), 16) + parseInt(getRed(color3), 16) + parseInt(getRed(color4), 16) + parseInt(getRed(color5), 16) + parseInt(getRed(color6), 16)) / 7).toString(16); //the average red value of all of the generated colors
            //var averageGreen = ((parseInt(getGreen(color0), 16) + parseInt(getGreen(color1), 16) + parseInt(getGreen(color2), 16) + parseInt(getGreen(color3), 16) + parseInt(getGreen(color4), 16) + parseInt(getGreen(color5), 16) + parseInt(getGreen(color6), 16)) / 7).toString(16); //the average green value of all of the generated colors
            //var averageBlue = ((parseInt(getBlue(color0), 16) + parseInt(getBlue(color1), 16) + parseInt(getBlue(color2), 16) + parseInt(getBlue(color3), 16) + parseInt(getBlue(color4), 16) + parseInt(getBlue(color5), 16) + parseInt(getBlue(color6), 16)) / 7).toString(16); //the average blue value of all of the generated colors
            
            //var whitedRed = ((parseInt(averageRed, 16) + 255)/2).toString(16); //the average red mixed with white
            //var whitedGreen = ((parseInt(averageRed, 16) + 255)/2).toString(16); //the average green mixed with white
            //var whitedBlue = ((parseInt(averageRed, 16) + 255)/2).toString(16); //the average blue mixed with white

            //averageColor = "#" + whitedRed + whitedGreen + whitedBlue; //the final average color of all of the generated colors, mixed with white

            average = averageColor([averageColor(colors), "#ffffff"]);

            ctx.fillStyle = averageColor;
            ctx.fillRect(0, 0, width, height);

            for(var size=6; size<8; size++){
                for(var y=size; y<height; y+=size*2){
                    for(var x=size; x<width; x+=size*2){
                        ctx.beginPath();
                        ctx.arc(x, y, size, 0, 2*Math.PI);
                        if(steps<6){
                            steps++;
                        }else{
                            steps=0;
                        }
                        ctx.strokeStyle=colors[steps];
                        ctx.fillStyle=colors[steps];
                        ctx.stroke();
                    }
                }
            }

        </script>
    </body>
</html>
